# Actuator endpoints configuration - separate port to avoid security conflicts
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoints.web.base-path=/actuator
management.server.port=9000

# Health check configuration for Kubernetes probes
management.endpoint.health.probes.enabled=true
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always

# Liveness and Readiness probe configuration
management.endpoint.health.probes.add-additional-paths=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# Prometheus metrics (optional)
management.endpoint.prometheus.access=unrestricted

# OAuth2 Client Credentials configuration for Keycloak
spring.security.oauth2.client.registration.keycloak.client-id=client
spring.security.oauth2.client.registration.keycloak.client-secret=G1ubsAhCLcwKNgE6J7oGOQtj6kRWZsYm
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=client_credentials
spring.security.oauth2.client.registration.keycloak.scope=openid

# Keycloak provider configuration
spring.security.oauth2.client.provider.keycloak.issuer-uri=http://keycloak.172.19.0.6.nip.io/realms/Istio
spring.security.oauth2.client.provider.keycloak.token-uri=http://keycloak.172.19.0.6.nip.io/realms/Istio/protocol/openid-connect/token

# Book-info service configuration
book-info.service.url=http://book-info